<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>No.2</title>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth__zh_tw.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.css"/>
    <link
      rel="stylesheet"
      href="https://fonts.cdnfonts.com/css/grandstander"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../stylesheets/layout.css" />
    <link rel="stylesheet" href="../stylesheets/cornerBtn.css" />
    <link rel="stylesheet" href="../stylesheets/aiCam.css" />
    <link rel="shortcut icon" href="../images/icon.png" type="image/x-icon" />
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  </head>
  
  <body>
    <!-- Google Calendar Appointment Scheduling begin -->
      <script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>
      <link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
      <script>
        (function() {
          var target = document.currentScript;
          window.addEventListener('load', function() {
            calendar.schedulingButton.load({
              url: 'https://calendar.google.com/calendar/appointments/schedules/AcZssZ3Y1rtVtipGdavI8OZYZN3g2rV2Vp16AiivTazY6y9riHl2QxRuIC-yErf3Rp-IYPfcumdeqZUx?gv=true',
              color: '#039BE5',
              label: '進行預約',
              target,
            });
            
            let btn = document.getElementById("booking");
            let gbtn = document.getElementsByClassName("qxCTlb")[0];
            gbtn.style.display = "none";
            btn.addEventListener("click", function() {
              console.log("ci");
              gbtn.click();
            });
          });
        })();
      </script>
      <!-- end Google Calendar Appointment Scheduling -->
    <div class="container-fluid" style="height: 100vh">
      <div class="fixed-corner">
        <div class="corner-button" id="toggleMenuBtn" style="width: 60px;">
            <img src="../images/badge/menu_btn.svg" alt="">
        </div>
        <div class="menu-bar">
            <img src="../images/badge/menuBar/menubarBg_long.svg" alt="" srcset="" style="width: 60px; padding-top: 3px;">
            <div class="menu_item">
                <a href="../index.html">
                    <img width="32" height="32" src="../images/badge/menuBar/index.svg" alt="" srcset="">
                </a>
                <a href="">
                    <img width="32" height="32" src="../images/badge/menuBar/cam.svg" alt="" srcset="">
                </a>
                <a href="./video.html">
                    <img width="35" height="35" src="../images/badge/menuBar/video.svg" alt="" srcset="">
                </a>
                <a href="./badge.html">
                    <img width="32" height="32" src="../images/badge/menuBar/badge.svg" alt="" srcset="">
                </a>
                <!-- <a href="./aboutUs.html">
                    <img src="../images/badge/menuBar/關於我們.png" alt="" srcset="">
                </a> -->
                <button type="button" class="bg-transparent border-0" id="booking">
                    <img width="32" height="32" src="../images/badge/menuBar/booking.svg">
                </button>
                <button type="button" id="login_signout_btn" class="bg-transparent border-0">
                    <img width="32" height="32" src="../images/badge/menuBar/logout.svg" alt="login-rounded-right"/>
                </button>
            </div>
        </div>
    </div>
      <div class="row mb-2">
        <div class="col"></div>
        <h3>What do you eat?</h3>
      </div>
      <div id="dialog-container" class="h-75 pb-3" style="overflow-y: scroll">
        <div id="guide-dialog-1" class="row w-100 mb-2">
          <div
            class="col-sm-12 col-lg-7 px-md-5 d-flex justify-content-center align-items-center position-relative"
          >
            <img class="w-100" src="../images/AI_Cam/res-bg-init.svg" />
            <p class="position-absolute w-75 fs-5 my-auto" style="left: 15%">
              您好！我是 AI
              食光機，您可以打字輸入或是上傳圖片告訴我今天吃了什麼，我將為您分析該食物的甲烷排放量、電力輸出、熱量及便秘風險。
            </p>
          </div>
        </div>
        <div id="guide-dialog-login" class="row w-100 mb-2">
          <div
            class="col-sm-12 col-lg-7 px-md-5 d-flex justify-content-center align-items-center position-relative"
          >
            <img class="w-100" src="../images/AI_Cam/res-bg-init.svg" />
            <p class="position-absolute w-75 fs-5 my-auto" style="left: 15%">
              想保留體驗數據並獲得徽章，請 <button type="button" onclick="showLoginModal()">登入</button>
            </p>
          </div>
        </div>
      </div>
      <div class="row w-100 m-0" id="nav">
        <div
          class="col-8 h-100 ps-4 inputBg d-flex align-items-center"
          style="background-position-x: 20%"
        >
          <input
            class="h-100 p-3 form-control-plaintext fs-5"
            id="descTxt"
            type="text"
            placeholder="輸入..."
            style="width: 95%; border: 0; background: transparent"
          />
        </div>
        <div
          class="col-2 d-flex justify-content-center align-items-center p-0 position-relative"
        >
          <label type="button" id="upload" class="border-0"></label>
          <input
            id="imgFileInput"
            type="file"
            accept="image/*"
            style="display: none"
          />
          <div
            id="uploadGroup"
            class="position-absolute justify-content-center"
            style="width: 80%; top: -90%; display: none"
          >
            <input
              id="imgTakePic"
              type="file"
              capture="environment"
              accept="image/*"
              style="display: none"
            />
            <label for="imgTakePic" class="d-flex justify-content-center">
              <img
                src="../images/AI_Cam/take_pic.svg"
                alt=""
                style="width: 80%"
              />
            </label>
            <label for="imgFileInput" class="d-flex justify-content-center">
              <img src="../images/AI_Cam/file.svg" alt="" style="width: 80%" />
            </label>
          </div>
        </div>
        <div
          class="col-2 d-flex justify-content-center align-items-center p-0 position-relative"
        >
          <input class="w-75" id="submit" type="button" style="height: 55%" />
        </div>
      </div>
      <!-- Achieve Modal-->
      <div class="modal modal-lg" id="achieModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content bg-transparent border-0">
            <div
              class="modal-body position-relative d-flex justify-content-center"
            >
              <img
                id="achieBG"
                class="w-100"
                src="../images/AI_Cam/achieBg.svg"
              />
              <p
                id="achieCongrate"
                class="fw-bold position-absolute text-light"
                style="top: 15%; font-size: 50px"
              >
                成就解鎖！
              </p>
              <div id="carouselExample" class="carousel slide w-100 position-absolute" style="top: 28%;">
                <div class="carousel-inner" id="achieModalBadgesContainer">
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
              <div
                id="buttonContainer"
                class="d-flex justify-content-center position-absolute w-100"
                style="top: 70%; height: 8%"
              >
                <button
                  id="ache-cancel"
                  class="mx-2 w-25 h-100"
                  type="button"
                  data-bs-dismiss="modal"
                  onclick="awardClose()"
                ></button>
                <button
                  id="ache-collect"
                  type="button"
                  class="mx-2 w-25 h-100"
                  onclick="collectAchieve()"
                ></button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal modal-xl" id="chartMoreModal" tabindex="-1">
        <div
          class="modal-dialog w-100 h-100"
          style="
            background-image: url(../images/AI_Cam/moreBG.svg);
            background-size: contain;
            background-repeat: no-repeat;
          "
        >
          <div
            class="modal-content bg-transparent border-0"
            style="height: 70%; max-height: 860px; min-height: 650px; top: 2%"
          >
            <div class="modal-body h-100">
              <div class="container h-100 px-5 py-4">
                <!-- Modal nav -->
                <!-- Description -->
                <div class="row mb-2" style="height: 9%">
                  <div class="col position-relative h-100">
                    <div
                      class="w-100 h-100"
                      style="
                        background-image: url(../images/AI_Cam/Explanation.svg);
                        background-size: contain;
                        background-repeat: no-repeat;
                        background-position: center;
                      "
                      id="explanTitle"
                    ></div>
                    <div class="d-flex w-100 position-absolute top-0">
                      <button
                        type="button"
                        id="chartMoreModalBtn"
                        class="p-0 border-0 bg-transparent"
                        style="width: 6%; height: 100%"
                        data-bs-toggle="modal"
                        data-bs-target="#chartMoreModal"
                      >
                        <img
                          src="../images/AI_Cam/back_icon.svg"
                          alt=""
                          style="object-fit: cover"
                          class="w-100 h-100"
                        />
                      </button>
                      <p class="my-auto fs-5" id="modalTitle"></p>
                    </div>
                  </div>
                </div>
                <div
                  id="sugRow"
                  class="row mb-3 mx-0 sugRow"
                  style="height: 33%"
                >
                  <div
                    class="col-12 col-sm-6 h-100 pt-1 pt-sm-0"
                    style="
                      background-image: url(../images/AI_Cam/LTBG.png);
                      background-size: contain;
                      background-repeat: no-repeat;
                      background-position: center;
                    "
                  >
                  <p class="fs-6 ms-4 mt-4">
                    產生了約<span
                      id="calorieSp"
                      class="p-2"
                      style="
                        background-image: url(../images/AI_Cam/lv_bg.svg);
                        background-repeat: no-repeat;
                        background-size: contain;
                        background-position: center;
                      "
                    ></span
                    >的熱量
                  </p>
                    <div class="position-relative">
                      <div class="d-flex flex-column align-items-center" style="width: 11%; margin-left: 15%;">
                        <p class="m-0" 
                        style="
                        padding: 23%;
                        background-image: url(../images/AI_Cam/val_bg.svg);
                        background-repeat: no-repeat;
                        background-size: contain;
                        background-position: center;">2km</p>
                        <img
                          src="../images/AI_Cam/run.gif"
                          style="width: 100%; transform: scaleX(-1);"
                          alt=""
                        />
                      </div>
                      <lottie-player
                        id="loader"
                        src="../images/AI_Cam/road.json"
                        background="transparent"
                        class="w-75 position-absolute mx-auto"
                        style="left: 10%; top: 48%; transform: scaleX(-1);"
                        speed="1"
                        loop=""
                        autoplay=""
                      ></lottie-player>
                    </div>
                  </div>
                  <div
                    class="col-12 col-sm-6 h-100 pt-1 pt-sm-0"
                    style="
                      background-image: url(../images/AI_Cam/RTBG.png);
                      background-size: contain;
                      background-repeat: no-repeat;
                      background-position: center;
                    "
                  >
                  <p class="fs-6 mt-4 ms-4 ms-sm-6">
                    會有約<span
                      id="constipateSp"
                      class="p-2"
                      style="
                        background-image: url(../images/AI_Cam/lv_bg.svg);
                        background-repeat: no-repeat;
                        background-size: contain;
                        background-position: center;
                      "
                    ></span
                    >的便秘風險
                  </p>
                  <div class="w-100 position-relative">
                    <div class="d-flex flex-column align-items-center" style="width: 14%; margin-left: 50%;">
                      <p class="m-0" 
                      style="
                      padding: 17%;
                      background-image: url(../images/AI_Cam/val_bg.svg);
                      background-repeat: no-repeat;
                      background-size: contain;
                      background-position: center;">20%</p>
                      <img
                        src="../images/AI_Cam/poop.gif"
                        style="
                          width: 100%; 
                          margin-top: 18%;
                          transform: scaleX(-1);
                        "
                        alt=""
                      />
                    </div>
                    <lottie-player
                      id="loader"
                      src="../images/AI_Cam/road.json"
                      background="transparent"
                      class="w-75 mx-auto position-absolute"
                      style="left: 14%; top: 48%; transform: scaleX(-1)"
                      speed="1"
                      loop=""
                      autoplay=""
                    ></lottie-player>
                  </div>
                  </div>
                </div>
                <div
                  class="row w-100 d-flex justify-content-center mb-2 mx-0 sugRow"
                  style="height: 33%"
                >
                  <div
                    class="col-12 col-sm-6 h-100 pt-1 pt-sm-0"
                    style="
                      background-image: url(../images/AI_Cam/LBBG.png);
                      background-size: contain;
                      background-repeat: no-repeat;
                      background-position: center;
                    "
                  >
                  <p class="fs-6 ms-4 mt-4">
                    排放了約<span
                      id="methaneSp"
                      class="p-2"
                      style="
                        background-image: url(../images/AI_Cam/lv_bg.svg);
                        background-repeat: no-repeat;
                        background-size: contain;
                        background-position: center;
                      "
                    ></span
                    >的甲烷排放量
                  </p>
                    <div class="position-relative">
                      <div class="d-flex flex-column align-items-center" style="width: 22%; margin-left: 25%;">
                        <p class="m-0" 
                        style="
                        padding: 12%;
                        background-image: url(../images/AI_Cam/val_bg.svg);
                        background-repeat: no-repeat;
                        background-size: contain;
                        background-position: center;">2km</p>
                        <lottie-player
                        id="loader"
                        src="../images/AI_Cam/car.json"
                        background="transparent"
                        style="
                          margin-top: 12.5%;
                        "
                        speed="1"
                        loop=""
                        autoplay=""
                      ></lottie-player>
                      </div>
                      <lottie-player
                        id="loader"
                        src="../images/AI_Cam/road.json"
                        background="transparent"
                        class="w-75 mx-auto position-absolute"
                        style="left: 10%; top: 45%; transform: scaleX(-1);"
                        speed="1"
                        loop=""
                        autoplay=""
                      ></lottie-player>
                    </div>
                  </div>
                  <div
                    class="col-12 col-sm-6 h-100 pt-1 pt-sm-0"
                    style="
                      background-image: url(../images/AI_Cam/RBBG.png);
                      background-size: contain;
                      background-repeat: no-repeat;
                      background-position: center;
                    "
                  >
                    <p class="fs-6 ms-4 mt-4 ps-5">
                      製造了約<span
                        id="electricitySp"
                        class="p-2"
                        style="
                          background-image: url(../images/AI_Cam/lv_bg.svg);
                          background-repeat: no-repeat;
                          background-size: contain;
                          background-position: center;
                        "
                      ></span
                      >的電力輸出
                    </p>
                    <div class="position-relative w-100">
                      <lottie-player
                        id="loader"
                        class="h-50"
                        style="width: 80%; margin-top: 12%; margin-left: 14%"
                        src="../images/AI_Cam/phone.json"
                        background="transparent"
                        speed="1"
                        loop=""
                        autoplay=""
                      ></lottie-player>
                    </div>
                  </div>
                </div>

                <!-- Suggestion -->
                <div class="row position-relative mb-2 mx-0" style="height: 9%">
                  <div
                    class="h-100"
                    id="suggestTitle"
                    style="
                      background-image: url(../images/AI_Cam/Suggestion.svg);
                      background-size: contain;
                      background-repeat: no-repeat;
                      background-position: center;
                    "
                  ></div>
                </div>

                <div class="row d-flex justify-content-center">
                  <div class="col-11">
                    <p class="fs-6" id="aiSug"></p>
                  </div>
                </div>

                <!-- Radar chart -->
                <div
                  class="position-absolute"
                  style="width: 25%; top: 25%; left: 36.5%"
                >
                  <canvas
                    id="chartMoreRadar"
                    style="display: block; box-sizing: border-box"
                  ></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal modal-xl" tabindex="-1" id="loginModal" style="height: 95%;">
        <div class="modal-dialog modal-dialog-centered h-100">
            <div class="modal-content w-100 h-100 position-relative border-0" id="loginModalContent">
                <div class="modal-body position-relative d-flex align-items-center justify-content-center" style="padding: 0%;">
                    <img src="../images/badge/loginModal/border.svg" alt="" class="position-absolute w-100 h-100">
                    <div id="firebaseui-auth-container" class="top-0"></div>
                </div>
            </div>
          </div>
        </div>
    </div>
      <!-- jquery -->
      <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
      <script src="https://cdn.staticfile.org/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js">
        <!-- chart.js -->
      </script>
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"
      ></script>
      <script src="../javascripts/CornerBTN.js"></script>
      <script src="../javascripts/ai_cam.js"></script>
    </div>
  </body>
</html>
